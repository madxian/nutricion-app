(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[715],{356:(e,t,a)=>{"use strict";a.d(t,{C:()=>o,z:()=>n});var r=a(5155),s=a(2115),l=a(4059),i=a(154),d=a(9434);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.bL,{className:(0,d.cn)("grid gap-2",a),...s,ref:t})});n.displayName=l.bL.displayName;let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.q7,{ref:t,className:(0,d.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...s,children:(0,r.jsx)(l.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(i.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});o.displayName=l.q7.displayName},2523:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var r=a(5155),s=a(2115),l=a(9434);let i=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},4637:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(5155),s=a(9689),l=a(3040);function i(){let{t:e}=(0,l.o)();return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)(s.A,{className:"h-8 w-8 text-primary"}),(0,r.jsx)("h1",{className:"text-3xl font-bold font-headline text-gray-800",children:e("auth.title")})]})}},5365:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>n,TN:()=>c,XL:()=>o});var r=a(5155),s=a(2115),l=a(2085),i=a(9434);let d=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=s.forwardRef((e,t)=>{let{className:a,variant:s,...l}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(d({variant:s}),a),...l})});n.displayName="Alert";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...s})});o.displayName="AlertTitle";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...s})});c.displayName="AlertDescription"},5937:(e,t,a)=>{"use strict";a.d(t,{lV:()=>u,MJ:()=>j,zB:()=>f,eI:()=>h,lR:()=>v,C5:()=>g});var r=a(5155),s=a(2115),l=a(4253),i=a(2177),d=a(9434),n=a(968);let o=(0,a(2085).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.b,{ref:t,className:(0,d.cn)(o(),a),...s})});c.displayName=n.b.displayName;let u=i.Op,m=s.createContext({}),f=e=>{let{...t}=e;return(0,r.jsx)(m.Provider,{value:{name:t.name},children:(0,r.jsx)(i.xI,{...t})})},x=()=>{let e=s.useContext(m),t=s.useContext(p),{getFieldState:a,formState:r}=(0,i.xW)(),l=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:d}=t;return{id:d,name:e.name,formItemId:"".concat(d,"-form-item"),formDescriptionId:"".concat(d,"-form-item-description"),formMessageId:"".concat(d,"-form-item-message"),...l}},p=s.createContext({}),h=s.forwardRef((e,t)=>{let{className:a,...l}=e,i=s.useId();return(0,r.jsx)(p.Provider,{value:{id:i},children:(0,r.jsx)("div",{ref:t,className:(0,d.cn)("space-y-2",a),...l})})});h.displayName="FormItem";let v=s.forwardRef((e,t)=>{let{className:a,...s}=e,{error:l,formItemId:i}=x();return(0,r.jsx)(c,{ref:t,className:(0,d.cn)(l&&"text-destructive",a),htmlFor:i,...s})});v.displayName="FormLabel";let j=s.forwardRef((e,t)=>{let{...a}=e,{error:s,formItemId:i,formDescriptionId:d,formMessageId:n}=x();return(0,r.jsx)(l.DX,{ref:t,id:i,"aria-describedby":s?"".concat(d," ").concat(n):"".concat(d),"aria-invalid":!!s,...a})});j.displayName="FormControl",s.forwardRef((e,t)=>{let{className:a,...s}=e,{formDescriptionId:l}=x();return(0,r.jsx)("p",{ref:t,id:l,className:(0,d.cn)("text-sm text-muted-foreground",a),...s})}).displayName="FormDescription";let g=s.forwardRef((e,t)=>{var a;let{className:s,children:l,...i}=e,{error:n,formMessageId:o}=x(),c=n?String(null!=(a=null==n?void 0:n.message)?a:""):l;return c?(0,r.jsx)("p",{ref:t,id:o,className:(0,d.cn)("text-sm font-medium text-destructive",s),...i,children:c}):null});g.displayName="FormMessage"},5940:(e,t,a)=>{"use strict";a.d(t,{default:()=>B});var r=a(5155),s=a(2177),l=a(221),i=a(5594),d=a(285),n=a(5937),o=a(2523),c=a(6695),u=a(8010),m=a(4637),f=a(356),x=a(2115),p=a(4512),h=a(9556),v=a(7381),j=a(518),g=a(9434);let y=p.bL;p.YJ;let b=p.WT,N=x.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(p.l9,{ref:t,className:(0,g.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[s,(0,r.jsx)(p.In,{asChild:!0,children:(0,r.jsx)(h.A,{className:"h-4 w-4 opacity-50"})})]})});N.displayName=p.l9.displayName;let w=x.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.PP,{ref:t,className:(0,g.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(v.A,{className:"h-4 w-4"})})});w.displayName=p.PP.displayName;let _=x.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.wn,{ref:t,className:(0,g.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(h.A,{className:"h-4 w-4"})})});_.displayName=p.wn.displayName;let C=x.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...i}=e;return(0,r.jsx)(p.ZL,{children:(0,r.jsxs)(p.UC,{ref:t,className:(0,g.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...i,children:[(0,r.jsx)(w,{}),(0,r.jsx)(p.LM,{className:(0,g.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(_,{})]})})});C.displayName=p.UC.displayName,x.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.JU,{ref:t,className:(0,g.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=p.JU.displayName;let R=x.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(p.q7,{ref:t,className:(0,g.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(p.VF,{children:(0,r.jsx)(j.A,{className:"h-4 w-4"})})}),(0,r.jsx)(p.p4,{children:s})]})});R.displayName=p.q7.displayName,x.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.wv,{ref:t,className:(0,g.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=p.wv.displayName;var z=a(3040),I=a(8039),A=a(3941),L=a(6044),F=a(1055),M=a(5365),k=a(594),J=a(5695),P=a(178);function B(){let{user:e,saveUserData:t,logout:a}=(0,u.J)(),{t:x}=(0,z.o)();(0,J.useRouter)();let p=(0,P.As)(),h=i.z.object({name:i.z.string().min(2,x("details.name_min_length")),age:i.z.coerce.number().int().positive(x("details.age_positive")).min(12,x("details.age_min")),heightCm:i.z.coerce.number().positive(x("details.height_positive")),weightKg:i.z.coerce.number().positive(x("details.weight_positive")),sex:i.z.enum(["male","female"],{required_error:x("details.sex_required")}),activityLevel:i.z.enum(["sedentary","light","moderate","active","very_active"],{required_error:x("details.activity_level_required")})}),v=(0,s.mN)({resolver:(0,l.u)(h),defaultValues:{name:(null==e?void 0:e.name)||"",age:(null==e?void 0:e.age)||void 0,heightCm:(null==e?void 0:e.heightCm)||void 0,weightKg:(null==e?void 0:e.weightKg)||void 0,sex:(null==e?void 0:e.sex)||void 0,activityLevel:(null==e?void 0:e.activityLevel)||void 0}}),j=(()=>{if(!(null==e?void 0:e.detailsLastUpdatedAt))return!1;let t=new Date(e.detailsLastUpdatedAt),a=(0,I.P)(t,1);return(0,A.d)(a,new Date)})(),g=(()=>{if(!(null==e?void 0:e.detailsLastUpdatedAt))return"";let t=new Date(e.detailsLastUpdatedAt),a=(0,I.P)(t,1);return(0,L.GP)(a,"d 'de' MMMM 'de' yyyy",{locale:F.es})})();return(0,r.jsxs)(c.Zp,{className:"shadow-2xl",children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(m.A,{})}),(0,r.jsx)(c.ZB,{children:x("details.title")}),(0,r.jsx)(c.BT,{children:x("details.description")})]}),(0,r.jsxs)(c.Wu,{children:[j&&(0,r.jsxs)(M.Fc,{className:"mb-6 bg-yellow-50 border-yellow-200",children:[(0,r.jsx)(k.A,{className:"h-4 w-4 text-yellow-700"}),(0,r.jsx)(M.XL,{className:"text-yellow-800 font-semibold",children:"Tus datos est\xe1n bloqueados"}),(0,r.jsxs)(M.TN,{className:"text-yellow-700",children:["Para asegurar la consistencia de tu plan, solo puedes actualizar tus datos y objetivo cada mes. Podr\xe1s actualizarlos de nuevo el ",(0,r.jsx)("strong",{children:g}),"."]})]}),(0,r.jsx)(n.lV,{...v,children:(0,r.jsxs)("form",{onSubmit:v.handleSubmit(e=>{let a=p.currentUser;a?t(a.uid,e):console.error("User not authenticated, cannot save data.")}),className:"space-y-6",children:[(0,r.jsx)(n.zB,{control:v.control,name:"name",render:e=>{let{field:t}=e;return(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:x("details.name_label")}),(0,r.jsx)(n.MJ,{children:(0,r.jsx)(o.p,{placeholder:x("details.name_placeholder"),...t,disabled:j})}),(0,r.jsx)(n.C5,{})]})}}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsx)(n.zB,{control:v.control,name:"age",render:e=>{var t;let{field:a}=e;return(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:x("details.age_label")}),(0,r.jsx)(n.MJ,{children:(0,r.jsx)(o.p,{type:"number",placeholder:"25",...a,value:null!=(t=a.value)?t:"",disabled:j})}),(0,r.jsx)(n.C5,{})]})}}),(0,r.jsx)(n.zB,{control:v.control,name:"heightCm",render:e=>{var t;let{field:a}=e;return(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:x("details.height_label")}),(0,r.jsx)(n.MJ,{children:(0,r.jsx)(o.p,{type:"number",placeholder:"170",...a,step:"0.1",value:null!=(t=a.value)?t:"",disabled:j})}),(0,r.jsx)(n.C5,{})]})}}),(0,r.jsx)(n.zB,{control:v.control,name:"weightKg",render:e=>{var t;let{field:a}=e;return(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:x("details.weight_label")}),(0,r.jsx)(n.MJ,{children:(0,r.jsx)(o.p,{type:"number",placeholder:"70",...a,step:"0.1",value:null!=(t=a.value)?t:"",disabled:j})}),(0,r.jsx)(n.C5,{})]})}})]}),(0,r.jsx)(n.zB,{control:v.control,name:"sex",render:e=>{let{field:t}=e;return(0,r.jsxs)(n.eI,{className:"space-y-3",children:[(0,r.jsx)(n.lR,{children:x("details.sex_label")}),(0,r.jsx)(n.MJ,{children:(0,r.jsxs)(f.z,{onValueChange:t.onChange,defaultValue:t.value,className:"flex space-x-4",disabled:j,children:[(0,r.jsxs)(n.eI,{className:"flex items-center space-x-2 space-y-0",children:[(0,r.jsx)(n.MJ,{children:(0,r.jsx)(f.C,{value:"male"})}),(0,r.jsx)(n.lR,{className:"font-normal",children:x("details.sex_male")})]}),(0,r.jsxs)(n.eI,{className:"flex items-center space-x-2 space-y-0",children:[(0,r.jsx)(n.MJ,{children:(0,r.jsx)(f.C,{value:"female"})}),(0,r.jsx)(n.lR,{className:"font-normal",children:x("details.sex_female")})]})]})}),(0,r.jsx)(n.C5,{})]})}}),(0,r.jsx)(n.zB,{control:v.control,name:"activityLevel",render:e=>{let{field:t}=e;return(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:x("details.activity_level_label")}),(0,r.jsxs)(y,{onValueChange:t.onChange,defaultValue:t.value,disabled:j,children:[(0,r.jsx)(n.MJ,{children:(0,r.jsx)(N,{children:(0,r.jsx)(b,{placeholder:x("details.activity_level_placeholder")})})}),(0,r.jsxs)(C,{children:[(0,r.jsx)(R,{value:"sedentary",children:x("details.activity_sedentary")}),(0,r.jsx)(R,{value:"light",children:x("details.activity_light")}),(0,r.jsx)(R,{value:"moderate",children:x("details.activity_moderate")}),(0,r.jsx)(R,{value:"active",children:x("details.activity_active")}),(0,r.jsx)(R,{value:"very_active",children:x("details.activity_very_active")})]})]}),(0,r.jsx)(n.C5,{})]})}}),(0,r.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,r.jsx)(d.$,{type:"button",variant:"ghost",onClick:a,children:x("details.logout_button")}),(0,r.jsx)(d.$,{type:"submit",variant:"default",disabled:j,children:x("details.continue_button")})]})]})})]})]})}},6695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>n,Zp:()=>i,aR:()=>d,wL:()=>u});var r=a(5155),s=a(2115),l=a(9434);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});i.displayName="Card";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});d.displayName="CardHeader";let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});n.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},9465:(e,t,a)=>{Promise.resolve().then(a.bind(a,5940))}},e=>{var t=t=>e(e.s=t);e.O(0,[644,992,712,612,787,577,726,75,163,441,684,358],()=>t(9465)),_N_E=e.O()}]);