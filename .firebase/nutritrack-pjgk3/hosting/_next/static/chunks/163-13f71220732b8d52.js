"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[163],{178:(e,t,r)=>{r.d(t,{As:()=>l,D3:()=>s,R8:()=>n,jt:()=>c});var a=r(5155),i=r(2115);let o=(0,i.createContext)(void 0),n=e=>{let{children:t,firebaseApp:r,firestore:n,auth:s,functions:l}=e,c=(0,i.useMemo)(()=>({firebaseApp:r,firestore:n,auth:s,functions:l}),[r,n,s,l]);return(0,a.jsx)(o.Provider,{value:c,children:t})},s=()=>{let e=(0,i.useContext)(o);if(void 0===e)throw Error("useFirebase must be used within a FirebaseProvider.");return e},l=()=>{let{auth:e}=s();return e},c=()=>{let{firestore:e}=s();return e}},285:(e,t,r)=>{r.d(t,{$:()=>c,r:()=>l});var a=r(5155),i=r(2115),o=r(4253),n=r(2085),s=r(9434);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,t)=>{let{className:r,variant:i,size:n,asChild:c=!1,...u}=e,d=c?o.DX:"button";return(0,a.jsx)(d,{className:(0,s.cn)(l({variant:i,size:n,className:r})),ref:t,...u})});c.displayName="Button"},610:(e,t,r)=>{r.d(t,{$:()=>i});var a=r(3004);class i extends Error{constructor(e){let t=function(e){let t=null;try{let e=(0,a.xI)().currentUser;e&&(t=function(e){var t;if(!e)return null;let r={name:e.displayName,email:e.email,email_verified:e.emailVerified,phone_number:e.phoneNumber,sub:e.uid,firebase:{identities:e.providerData.reduce((e,t)=>(t.providerId&&(e[t.providerId]=[t.uid]),e),{}),sign_in_provider:(null==(t=e.providerData[0])?void 0:t.providerId)||"custom",tenant:e.tenantId}};return{uid:e.uid,token:r}}(e))}catch(e){}return{auth:t,method:e.operation,path:"/databases/(default)/documents/".concat(e.path),resource:e.requestResourceData?{data:e.requestResourceData}:void 0}}(e);super("Missing or insufficient permissions: The following request was denied by Firestore Security Rules:\n".concat(JSON.stringify(t,null,2))),this.name="FirebaseError",this.request=t}}},3040:(e,t,r)=>{r.d(t,{LanguageProvider:()=>s,o:()=>l});var a=r(5155),i=r(2115);let o={es:{auth:{title:"\xbfQu\xe9 hay pa' hoy?",subtitle:"Tu gu\xeda de nutrici\xf3n con el saz\xf3n Colombiano",login_tab:"Ingresar",signup_tab:"Crear Cuenta",email_label:"Correo Electr\xf3nico",email_required:"El correo es requerido.",email_invalid:"Por favor ingresa un correo v\xe1lido.",password_label:"Contrase\xf1a",confirm_password_label:"Confirmar Contrase\xf1a",login_button:"Ingresar",signup_button:"Crear Cuenta",password_required:"La contrase\xf1a es requerida.",password_min_length:"La contrase\xf1a debe tener al menos 6 caracteres.",passwords_no_match:"Las contrase\xf1as no coinciden.",contact_for_access:"\xbfNo tienes un c\xf3digo?",get_code_link:"\xa1Obt\xe9n tu c\xf3digo aqu\xed!",registration_code_label:"C\xf3digo de Registro",registration_code_placeholder:"Ingresa tu c\xf3digo de pago",registration_code_required:"El c\xf3digo de registro es requerido.",accept_terms_prefix:"He le\xeddo y acepto los",accept_terms_link:"T\xe9rminos y Condiciones",accept_terms_error:"Debes aceptar los t\xe9rminos.",accept_privacy_prefix:"He le\xeddo y acepto la",accept_privacy_link:"Pol\xedtica de Privacidad",accept_privacy_error:"Debes aceptar la pol\xedtica de privacidad.",is_adult_label:"Confirmo que soy mayor de 18 a\xf1os.",is_adult_error:"Debes ser mayor de 18 a\xf1os.",terms_title:"T\xe9rminos y Condiciones",privacy_title:"Pol\xedtica de Privacidad"},details:{title:"Cu\xe9ntanos sobre ti",description:"Necesitamos algunos detalles para personalizar tu plan de comidas.",name_label:"Nombre",name_placeholder:"Tu nombre",age_label:"Edad",height_label:"Altura (cm)",weight_label:"Peso (kg)",sex_label:"Sexo",sex_male:"Masculino",sex_female:"Femenino",activity_level_label:"Nivel de Actividad F\xedsica",activity_level_placeholder:"Selecciona tu nivel de actividad",activity_sedentary:"Sedentario (poco o ning\xfan ejercicio)",activity_light:"Ligero (1-3 d\xedas/semana)",activity_moderate:"Moderado (3-5 d\xedas/semana)",activity_active:"Activo (6-7 d\xedas/semana)",activity_very_active:"Muy Activo (ejercicio intenso y trabajo f\xedsico)",logout_button:"Cerrar sesi\xf3n",continue_button:"Continuar",name_min_length:"El nombre debe tener al menos 2 caracteres.",age_positive:"La edad debe ser un n\xfamero positivo.",age_min:"Debes tener al menos 12 a\xf1os.",height_positive:"La altura debe ser un n\xfamero positivo.",weight_positive:"El peso debe ser un n\xfamero positivo.",sex_required:"Por favor, selecciona tu sexo.",activity_level_required:"Por favor, selecciona tu nivel de actividad."},goal:{title:"\xbfCu\xe1l es tu objetivo?",description:"Selecciona tu meta para que podamos generar el plan perfecto para ti.",lose_weight:"Bajar de peso",maintain_weight:"Mantener mi peso",gain_weight:"Subir de peso",back_button:"Atr\xe1s",generate_plan_button:"Generar mi plan"},plan:{error_title:"Error",error_description_sample:"No se pudo cargar el plan de comidas de ejemplo.",error_description_load:"No se pudo cargar el plan de comidas.",retry_button:"Intentar de nuevo",breakfasts:"Desayunos",lunches:"Almuerzos",snacks:"Snacks",dinners:"Cenas",greeting:"Hola, {username}",logout_button:"Cerrar Sesi\xf3n",title:"Tu Plan Semanal Personalizado",description_prefix:"Este es tu plan de comidas de ejemplo para ayudarte a",goal_gain:"subir de peso",goal_lose:"bajar de peso",goal_maintain:"mantener tu peso",option:"Opci\xf3n {index}",instructions:"Instrucciones",ingredients:"Ingredientes",nutritional_info:"Informaci\xf3n Nutricional",serving_size:"Porci\xf3n",calories:"Calor\xedas",protein:"Prote\xedna",carbs:"Carbohidratos",fats:"Grasas",shopping_list:"Lista de Compras",shopping_list_title:"Lista de Compras Semanal",shopping_list_description:"Aqu\xed tienes todos los ingredientes que necesitar\xe1s para tu plan de esta semana."}},en:{auth:{title:"What's for today?",subtitle:"Your nutrition guide with Colombian flavor",login_tab:"Login",signup_tab:"Sign Up",email_label:"Email",email_required:"Email is required.",email_invalid:"Please enter a valid email.",password_label:"Password",confirm_password_label:"Confirm Password",login_button:"Login",signup_button:"Sign Up",password_required:"Password is required.",password_min_length:"Password must be at least 6 characters.",passwords_no_match:"Passwords do not match.",contact_for_access:"Don't have a code?",get_code_link:"Get your code here!",registration_code_label:"Registration Code",registration_code_placeholder:"Enter your payment code",registration_code_required:"Registration code is required.",accept_terms_prefix:"I have read and accept the",accept_terms_link:"Terms and Conditions",accept_terms_error:"You must accept the terms.",accept_privacy_prefix:"I have read and accept the",accept_privacy_link:"Privacy Policy",accept_privacy_error:"You must accept the privacy policy.",is_adult_label:"I confirm I am over 18 years old.",is_adult_error:"You must be over 18 years old.",terms_title:"Terms and Conditions",privacy_title:"Privacy Policy"},details:{title:"Tell us about yourself",description:"We need a few details to customize your meal plan.",name_label:"Name",name_placeholder:"Your name",age_label:"Age",height_label:"Height (cm)",weight_label:"Weight (kg)",sex_label:"Sex",sex_male:"Male",sex_female:"Female",activity_level_label:"Physical Activity Level",activity_level_placeholder:"Select your activity level",activity_sedentary:"Sedentary (little to no exercise)",activity_light:"Light (1-3 days/week)",activity_moderate:"Moderate (3-5 days/week)",activity_active:"Active (6-7 days/week)",activity_very_active:"Very Active (intense exercise & physical job)",logout_button:"Log out",continue_button:"Continue",name_min_length:"Name must be at least 2 characters.",age_positive:"Age must be a positive number.",age_min:"You must be at least 12 years old.",height_positive:"Height must be a positive number.",weight_positive:"Weight must be a positive number.",sex_required:"Please select your sex.",activity_level_required:"Please select your activity level."},goal:{title:"What is your goal?",description:"Select your goal so we can generate the perfect plan for you.",lose_weight:"Lose weight",maintain_weight:"Maintain my weight",gain_weight:"Gain weight",back_button:"Back",generate_plan_button:"Generate my plan"},plan:{error_title:"Error",error_description_sample:"Could not load the sample meal plan.",error_description_load:"Could not load the meal plan.",retry_button:"Try again",breakfasts:"Breakfasts",lunches:"Lunches",snacks:"Snacks",dinners:"Dinners",greeting:"Hello, {username}",logout_button:"Log Out",title:"Your Personalized Weekly Plan",description_prefix:"This is your sample meal plan to help you",goal_gain:"gain weight",goal_lose:"lose weight",goal_maintain:"maintain your weight",option:"Option {index}",instructions:"Instructions",ingredients:"Ingredients",nutritional_info:"Nutritional Information",serving_size:"Serving Size",calories:"Calories",protein:"Protein",carbs:"Carbohydrates",fats:"Fats",shopping_list:"Shopping List",shopping_list_title:"Weekly Shopping List",shopping_list_description:"Here are all the ingredients you'll need for your plan this week."}}},n=(0,i.createContext)(void 0);function s(e){let{children:t}=e,[r,s]=(0,i.useState)("es"),[l,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{c(!0);try{let e=localStorage.getItem("language");e&&["es","en"].includes(e)&&s(e)}catch(e){console.error("Failed to access localStorage",e)}},[]);let u=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.split("."),i=o[r];for(let t of a)if(!i||"object"!=typeof i||!(t in i))return e;else i=i[t];return"string"==typeof i?Object.entries(t).reduce((e,t)=>{let[r,a]=t;return e.replace("{".concat(r,"}"),a)},i):e},[r]);return((0,i.useEffect)(()=>{l&&(document.documentElement.lang=r)},[r,l]),l)?(0,a.jsx)(n.Provider,{value:{language:r,setLanguage:e=>{s(e);try{localStorage.setItem("language",e)}catch(e){console.error("Failed to access localStorage",e)}},t:u},children:t}):null}function l(){let e=(0,i.useContext)(n);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}},3310:(e,t,r)=>{r.d(t,{d:()=>a});let a=function(){let e={};return{on(t,r){var a;e[t]||(e[t]=[]),null==(a=e[t])||a.push(r)},off(t,r){var a;e[t]&&(e[t]=null==(a=e[t])?void 0:a.filter(e=>e!==r))},emit(t,r){var a;e[t]&&(null==(a=e[t])||a.forEach(e=>e(r)))}}}()},8010:(e,t,r)=>{r.d(t,{J:()=>v,UserProvider:()=>m});var a=r(5155),i=r(2115),o=r(5695),n=r(8201),s=r(178),l=r(5317),c=r(3004),u=r(3310),d=r(610),p=r(3915);let _=async(e,t)=>{if(!e)throw Error("saveUserData: uid required");let r=(0,l.aU)((0,p.Sx)()),a=(0,l.H9)(r,"users",e);try{await (0,l.BN)(a,t,{merge:!0})}catch(r){let e=new d.$({path:a.path,operation:"write",requestResourceData:t});throw u.d.emit("permission-error",e),r}},g=(0,i.createContext)(void 0);function m(e){let{children:t}=e,{user:r,isLoading:l,isLoggedIn:u}=(0,n.J)(),{auth:d}=(0,s.D3)(),p=(0,o.useRouter)(),m=(0,o.usePathname)(),v=(null==r?void 0:r.name)||(d.currentUser?d.currentUser.email:null),h=(0,i.useCallback)(async()=>{d&&(await (0,c.CI)(d),p.push("/"))},[d,p]),b=(0,i.useCallback)(async(e,t)=>{let r=d.currentUser;if(null==r?void 0:r.uid){let a={goal:e};return t&&(a.detailsLastUpdatedAt=new Date().toISOString()),_(r.uid,a)}throw console.error("User not logged in or firestore not available"),Error("User not logged in or firestore not available")},[d]);return(0,i.useEffect)(()=>{if(l)return;let e=["/","/checkout","/registro","/status","/terms","/privacy"].some(e=>m.startsWith(e));if(u){let e=(null==r?void 0:r.age)&&(null==r?void 0:r.heightCm)&&(null==r?void 0:r.weightKg)&&(null==r?void 0:r.sex)&&(null==r?void 0:r.activityLevel),t=!!(null==r?void 0:r.goal);e&&t?"/plan"!==m&&p.push("/plan"):e&&!t?"/goal"!==m&&p.push("/goal"):"/details"!==m&&p.push("/details")}else e||p.push("/")},[l,u,r,m,p]),(0,a.jsx)(g.Provider,{value:{user:r,isLoading:l,isLoggedIn:u,logout:h,saveUserData:_,saveGoal:b,username:v},children:t})}function v(){let e=(0,i.useContext)(g);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},8201:(e,t,r)=>{r.d(t,{J:()=>s});var a=r(2115),i=r(178),o=r(3004),n=r(5317);function s(){let e=(0,i.As)(),t=(0,i.jt)(),[r,s]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0),[u,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let t=(0,o.hg)(e,e=>{c(!0),d(e),e||(s(null),c(!1))});return()=>t()},[e]),(0,a.useEffect)(()=>{if(u){let e=(0,n.H9)(t,"users",u.uid),r=(0,n.aQ)(e,e=>{e.exists()?s(e.data()):s({name:u.displayName||"",email:u.email||""}),c(!1)},e=>{console.error("Error fetching user data:",e),s(null),c(!1)});return()=>r()}s(null),c(!1)},[u,t]),{user:r,isLoading:l,isLoggedIn:!!u}}},9434:(e,t,r)=>{r.d(t,{cn:()=>o});var a=r(2596),i=r(9688);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,a.$)(t))}}}]);